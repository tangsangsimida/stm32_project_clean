# 贡献指南

感谢您考虑为 STM32 项目清理工具做出贡献！这个文档提供了详细的贡献规则和流程，以确保项目的一致性和质量。

## 目录

- [行为准则](#行为准则)
- [如何贡献](#如何贡献)
  - [报告 Bug](#报告-bug)
  - [提出新功能](#提出新功能)
  - [提交代码](#提交代码)
- [开发规范](#开发规范)
  - [代码风格](#代码风格)
  - [提交信息规范](#提交信息规范)
  - [分支管理](#分支管理)
  - [版本控制](#版本控制)
- [测试指南](#测试指南)
- [文档规范](#文档规范)
- [发布流程](#发布流程)
- [许可证](#许可证)

## 行为准则

- 尊重所有贡献者，无论其经验水平、性别、种族、宗教或国籍
- 使用友好和包容的语言
- 接受建设性的批评
- 关注项目的最佳利益
- 对其他社区成员表示同理心

## 如何贡献

### 报告 Bug

1. 使用 GitHub Issues 提交 bug 报告
2. 使用清晰的标题描述问题
3. 提供详细的复现步骤，包括：
   - 使用的操作系统和版本
   - 使用的 Python 版本
   - 完整的命令行参数
   - 错误输出或截图
4. 如果可能，提供最小复现示例
5. 描述预期行为和实际行为之间的差异

### 提出新功能

1. 首先检查 Issues 和 Pull Requests，确保该功能尚未被提出或实现
2. 使用 GitHub Issues 提交功能请求
3. 清晰描述新功能及其解决的问题
4. 提供可能的实现方案或思路
5. 讨论该功能如何与现有功能集成

### 提交代码

1. Fork 项目仓库
2. 创建功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 创建 Pull Request

## 开发规范

### 代码风格

- 遵循 [PEP 8](https://www.python.org/dev/peps/pep-0008/) Python 代码风格指南
- 使用 4 个空格进行缩进，不使用制表符
- 行长度限制在 79 个字符以内
- 使用有意义的变量名和函数名
- 添加适当的注释，特别是对于复杂的逻辑
- 使用 docstrings 记录函数和类的用途
- 保持代码的可读性和简洁性

### 提交信息规范

提交信息应遵循以下格式：

```
<类型>: <简短描述>

<详细描述>

<引用相关的 issue 或 PR>
```

类型包括：
- `feat`: 新功能
- `fix`: 修复 bug
- `docs`: 文档更改
- `style`: 不影响代码含义的更改（空格、格式等）
- `refactor`: 既不修复 bug 也不添加功能的代码更改
- `perf`: 提高性能的代码更改
- `test`: 添加或修正测试
- `chore`: 对构建过程或辅助工具的更改

### 分支管理

- `main`: 稳定分支，包含已发布的版本
- `develop`: 开发分支，包含下一个版本的功能
- `feature/*`: 新功能分支
- `bugfix/*`: 修复 bug 的分支
- `release/*`: 发布准备分支
- `hotfix/*`: 紧急修复分支

### 版本控制

项目使用语义化版本控制 [SemVer](https://semver.org/)：

- MAJOR 版本：当进行不兼容的 API 更改时
- MINOR 版本：当以向后兼容的方式添加功能时
- PATCH 版本：当进行向后兼容的 bug 修复时

## 测试指南

1. 为新功能和修复的 bug 添加测试
2. 确保所有测试都能通过
3. 测试应该覆盖正常情况和边缘情况
4. 使用以下命令运行测试：
   ```bash
   python -m unittest discover tests
   ```
5. 在提交代码前，在不同的操作系统上测试你的更改

## 文档规范

1. 更新 README.md 以反映新功能或更改
2. 为新功能添加详细的文档
3. 更新命令行帮助信息
4. 使用清晰简洁的语言
5. 提供示例和用例

## 发布流程

1. 更新版本号（在 `stm32_project_clean.py` 中）
2. 更新 CHANGELOG.md
3. 创建发布分支 (`release/X.Y.Z`)
4. 进行最终测试和文档更新
5. 合并到 `main` 分支
6. 创建带有版本号的标签
7. 发布到 GitHub Releases

## 许可证

通过贡献代码，您同意您的贡献将在 GNU General Public License v3.0 下许可。

---

再次感谢您的贡献！如果您有任何问题，请随时在 Issues 中提问或联系项目维护者。